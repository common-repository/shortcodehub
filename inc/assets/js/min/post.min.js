!function(e){"use strict";var i={init:function(){this._select2(),this._bind(),this._toggle_specific_posts(),this._toggle_taxonomies(),this._toggle_sorting(),this._toggle_author(),this._toggle_status(),this._toggle_keyword(),this._toggle_override_markup(),this._toggle_override_design(),this._currentHookDescription()},_select2:function(){e(".sh-field-select2").select2()},_toggle_override_markup:function(){e(".sh-query-override-markup").is(":checked")||!1?e(".sh-query-markup").show():e(".sh-query-markup").hide()},_toggle_override_design:function(){e(".sh-query-override-design").is(":checked")||!1?e(".sh-query-design").show():e(".sh-query-design").hide()},_toggle_status:function(){e(".sh-query-status-options").is(":checked")||!1?e(".sh-query-status-options").parents("table").find("tr").show():(e(".sh-query-status-options").parents("table").find("tr").hide(),e(".sh-query-status-options").parents("table").find("tr:first-child").show())},_toggle_keyword:function(){e(".sh-query-keyword-options").is(":checked")||!1?e(".sh-query-keyword-options").parents("table").find("tr").show():(e(".sh-query-keyword-options").parents("table").find("tr").hide(),e(".sh-query-keyword-options").parents("table").find("tr:first-child").show())},_toggle_author:function(){e(".sh-query-author-options").is(":checked")||!1?e(".sh-query-author-options").parents("table").find("tr").show():(e(".sh-query-author-options").parents("table").find("tr").hide(),e(".sh-query-author-options").parents("table").find("tr:first-child").show())},_toggle_sorting:function(){e(".sh-query-sorting-options").is(":checked")||!1?e(".sh-query-sorting-options").parents("table").find("tr").show():(e(".sh-query-sorting-options").parents("table").find("tr").hide(),e(".sh-query-sorting-options").parents("table").find("tr:first-child").show())},_toggle_taxonomies:function(){e(".sh-query-taxonomies-options").is(":checked")||!1?e(".sh-query-taxonomies-options").parents("table").find("tr").show():(e(".sh-query-taxonomies-options").parents("table").find("tr").hide(),e(".sh-query-taxonomies-options").parents("table").find("tr:first-child").show())},_toggle_specific_posts:function(){e(".sh-query-specific-posts-options").is(":checked")||!1?e(".sh-query-specific-posts-options").parents("table").find("tr").show():(e(".sh-query-specific-posts-options").parents("table").find("tr").hide(),e(".sh-query-specific-posts-options").parents("table").find("tr:first-child").show())},_bind:function(){i._show_taxonomies(),e(document).on("change",".sh-query-post-type",i._show_taxonomies),e(document).on("click",".sh-query-override-markup",i._toggle_override_markup),e(document).on("click",".sh-query-override-design",i._toggle_override_design),e(document).on("click",".sh-query-keyword-options",i._toggle_keyword),e(document).on("click",".sh-query-author-options",i._toggle_author),e(document).on("click",".sh-query-status-options",i._toggle_status),e(document).on("click",".sh-query-sorting-options",i._toggle_sorting),e(document).on("click",".sh-query-specific-posts-options",i._toggle_specific_posts),e(document).on("click",".sh-query-taxonomies-options",i._toggle_taxonomies),e(document).on("change",".sh-current-hook",i._currentHookDescription),e(document).on("click",".sh-tip .icon",i._toggleTip),e(document).on("click",".sh-customize-design-button",i._customizeDesign)},_show_taxonomies:function(){var o=e(".sh-query-post-type option:selected").val()||"",t=e("#post_ID").val()||"";e(".sh-taxonomy-row").find(".sh-content").html('<div class="sh-taxonomy-row-not-found"><span class="spinner is-active" style="float: none;margin: 0;"></span></div>'),e.ajax({url:ajaxurl,type:"POST",data:{action:"sh-load-taxonomies",post_id:t,post_type:o}}).done(function(o,t,s){o.success&&(e(".sh-taxonomy-row").find(".sh-content").html(o.data),i._select2())}).fail(function(o,t){console.log(o)}).always(function(){})},_customizeDesign:function(o){o.preventDefault();var t=e("#post_ID").val()||"";e.ajax({url:ajaxurl,type:"POST",data:{action:"sh-save-layout-and-open-customizer",post_ID:t}}).done(function(o,t,s){o.success&&window.open(o.data,"_blank")}).fail(function(o,t){console.log("jqXHR: "),console.log(o)}).always(function(){})},_toggleTip:function(o){o.preventDefault();var t=e(this).data("id")||"";t&&e("#"+t).length&&e("#"+t).slideToggle()},_currentHookDescription:function(){var s=e(".sh-current-hook").val()||"";s?e.each(SHArgs.hook_groups,function(o,t){e.each(t.hooks,function(o,t){s===t.hook&&(e(".sh-default-hook-description").hide(),e(".sh-current-hook-description").show().html(t.description))})}):(e(".sh-current-hook-description").hide().html(""),e(".sh-default-hook-description").show())}};e(function(){i.init()})}(jQuery);